<!DOCTYPE html>
<html>
  <body>
    <input type="file" id="fileInput" />
    <button id="uploadButton">上传</button>
    <script>
      const baseURL =
        "https://damp-castle-86239-1b70ee448fbd.herokuapp.com/decoapi/community_events/";
      document
        .getElementById("uploadButton")
        .addEventListener("click", function () {
          const fileInput = document.getElementById("fileInput");
          const postCommunityEventMethod = "POST";

          var formData = new FormData();
          formData.append("name", "Grant Program 2024");
          formData.append("location", "-24.492393, 152.421574");
          formData.append("organiser", "Asylum Seekers Centre");
          formData.append("event_type", "Group Activity");
          formData.append(
            "description",
            "Food support grants are available for projects that improve access to affordable and healthy food as the cost of living soars."
          );
          formData.append("date_time", "2024-02-06 10:00");
          formData.append("photo", fileInput.files[0], "Box-of-spinach.jpg");
          formData.append("website_code", "serene12345");

          const requestOptions2 = {
            method: postCommunityEventMethod,
            body: formData,
            redirect: "follow",
          };

          fetch(baseURL, requestOptions2)
            .then((response) => response.text())
            .then((result) => console.log(result))
            .catch((error) => console.log("error", error));
        });
    </script>
  </body>
</html>
